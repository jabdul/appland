define(["module-tt-article/app","jquery","module-tt-article/model/article","lib/requirejs/hbs!module-tt-article/view/tmpl/articles-open","lib/requirejs/hbs!module-tt-article/view/tmpl/articles-close"],function(e,t,n,r,i){function s(t){this.items=t,this.itemsCount=t.length,this.itemsList=[],this.view=[],this.moduleConfig=e.getModuleConfig("module-tt-article")}return s.prototype={constructor:s,generateHtml:function(e,t){var r=0,i=null,s=0;this.itemsCount=this.items.length;if(!this.itemsCount)return!1;for(;r<this.itemsCount;r++){i=new n(this.items[r]),i.isItemActive()&&s++,i.setMaxDefaultTags(this.moduleConfig.maxDefaultTags),s<=t&&(this.view[r]=i.generateHtml());if(s===t)break;this.itemsList[r]=i}return e&&this.addTmplContainer(),!0},generateHtmlForItem:function(e,t){var r=new n(e);return r.setMaxDefaultTags(this.moduleConfig.maxDefaultTags),this.itemsList[t]=r,r.generateHtml()},addTmplContainer:function(){this.view.unshift(r(null)),this.view.push(i(null))},setItems:function(e){this.items=e},getItemsList:function(e){return typeof e=="number"?this.itemsList[e]:this.itemsList},getView:function(e){return e?this.view.join("\n"):this.view},findArticles:function(){var t=e.getModuleConfig("module-tt-article").services.findArticles,n=this;e.connect("json",{path:"/module-tt-article/data/mock-articles.json",isLocal:!0,type:t.httpRequestMethod,cbSuccess:function(e,t){e.articles===null?console.log("No info available"):n.renderViewMarkup(e.articles)},error:function(e,t,n){throw new Error("Service ERROR: Could not fetch articles.")}})},renderViewMarkup:function(e){this.setItems(e),this.generateHtml(!0,this.moduleConfig.activeArticles),t("#tt-articles-content").append(this.getView(!0))}},s});